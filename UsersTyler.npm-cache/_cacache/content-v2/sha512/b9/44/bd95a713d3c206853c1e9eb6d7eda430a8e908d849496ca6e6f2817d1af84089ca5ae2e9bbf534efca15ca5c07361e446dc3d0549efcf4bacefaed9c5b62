{"_id":"@clinic/clinic-common","_rev":"3-7837e953627e215c476372aa5d7d9418","name":"@clinic/clinic-common","dist-tags":{"latest":"7.1.0"},"versions":{"7.0.0":{"name":"@clinic/clinic-common","version":"7.0.0","description":"Shared parts between the Clinic.js suite","main":"index.js","engines":{"node":">= 12.13.0"},"directories":{"lib":"lib"},"scripts":{"test":"npm run lint && tap test/*.test.js","lint":"standard --fix","ci-lint":"standard","build-svgs":"node scripts/build-svgs.js && npm run lint","prepublishOnly":"npm run build-svgs"},"repository":{"type":"git","url":"git+https://github.com/clinicjs/node-clinic-common.git"},"author":{"name":"Ruben Bridgewater","email":"ruben@bridgewater.de"},"license":"MIT","bugs":{"url":"https://github.com/clinicjs/node-clinic-common/issues"},"homepage":"https://github.com/clinicjs/node-clinic-common#readme","devDependencies":{"standard":"^16.0.3","tap":"^14.11.0"},"dependencies":{"brfs":"^2.0.1","browserify":"^17.0.0","chalk":"^4.1.0","lodash.debounce":"^4.0.8","loose-envify":"^1.4.0","postcss":"^8.1.10","postcss-import":"^13.0.0","stream-template":"0.0.10","webfontloader":"^1.6.28"},"standard":{"ignore":["/test/fixtures/"]},"gitHead":"422f9f52611832e0d673dfc4af4ea8715d263799","_id":"@clinic/clinic-common@7.0.0","_nodeVersion":"14.18.1","_npmVersion":"6.14.15","dist":{"integrity":"sha512-Rh0wj2J9PKb7IENVa1Cboxwq16ss+RQdBf9iSoYIGnG3A0rZ9DN+hHn1X1OiWCSztcjlthUHz2IPeh2oYMemTg==","shasum":"28074799009554541249b484e4648c59681bd8d4","tarball":"https://registry.npmjs.org/@clinic/clinic-common/-/clinic-common-7.0.0.tgz","fileCount":319,"unpackedSize":574725,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJh2C53CRA9TVsSAnZWagAAmd4P/2qGaWe7lQtNygrKkSKB\nObPZB0Wa5lDLmly4TXlvjUm5yyUgcQtxDV3Q8PBMM9kW3h6dGn5b6J6ZZ2A5\nADsjfqF0ohEEzOdBQYnV4tbSzvvYVwPupKuBw9G7Ea9A9kHdPRsbK7iW15qV\nXeglGgw2eNC1Rh4nyYgKezv3RjZxWW8+0FTr0ZdFOhrYpzm+t1o/hOVG3izN\nEZ33yXzlcHz7KdgVqh6YHpe1Ry09HWZIfT+pJeBTggjPo8AujGENBcqc1XUW\n4v++ePZqh3n57t2HgIPIUwRHEzSbMdl2aMT3G8icjhHmricXNgZkxPDqh96T\n9lHOH/Xtx0RyI5IRkVAcXG01wJDoU10lMNTPD0KC5eEou2qB+wBqT0vK6LH0\nywynsm/rZnS1F59F6deJy4G+kXbLxcRbjg22tQ6yzx6qOIyGpqs6W5KonSgU\nYw5d0osDh38zV+LaLHxxpH9WMMJ3vEdgM2d2mMJ6tKesbMKYC1klp+03x8ip\nxrperuQQCGuiHlFtjHS1b8O2O3HjrAZ+SZOX1kYiD6vnIg/h9/BAIBSRE1YL\nQ/wddB05VIZjkUnwuAtYi8VjFco4Sd72Pgr0fei/ldH+vbWgTra6HjvwqmFc\nh4WTfmAlKO0uipa6k2pLSfqnYhBmoelWEwIUIgYm//QifPsJ09E0gBLEaZ6k\nQOmT\r\n=KhYQ\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIA+vkWIeDTCy2eqVgoNAreKGH8VxI+DlwzLjSvp1mkLlAiA/xUhVXIsyoowmQ4WyqlzNILqi94GylKGJ41YdUrH8zQ=="}]},"_npmUser":{"name":"rafaelgss","email":"rafael.nunu@hotmail.com"},"maintainers":[{"name":"jasnell","email":"jasnell@gmail.com"},{"name":"matteo.collina","email":"hello@matteocollina.com"},{"name":"simoneb","email":"simone.busoli@gmail.com"},{"name":"rafaelgss","email":"rafael.nunu@hotmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/clinic-common_7.0.0_1636665180414_0.42233209106448055"},"_hasShrinkwrap":false},"7.1.0":{"name":"@clinic/clinic-common","version":"7.1.0","description":"Shared parts between the Clinic.js suite","main":"index.js","engines":{"node":">= 12.13.0"},"directories":{"lib":"lib"},"scripts":{"test":"npm run lint && tap test/*.test.js","lint":"standard --fix","ci-lint":"standard","build-svgs":"node scripts/build-svgs.js && npm run lint","prepublishOnly":"npm run build-svgs"},"repository":{"type":"git","url":"git+https://github.com/clinicjs/node-clinic-common.git"},"author":{"name":"Ruben Bridgewater","email":"ruben@bridgewater.de"},"license":"MIT","bugs":{"url":"https://github.com/clinicjs/node-clinic-common/issues"},"homepage":"https://github.com/clinicjs/node-clinic-common#readme","devDependencies":{"standard":"^17.0.0","tap":"^16.0.1"},"dependencies":{"brfs":"^2.0.1","browserify":"^17.0.0","chalk":"^4.1.0","lodash.debounce":"^4.0.8","loose-envify":"^1.4.0","postcss":"^8.1.10","postcss-import":"^13.0.0","stream-template":"0.0.10","webfontloader":"^1.6.28"},"standard":{"ignore":["/test/fixtures/"]},"gitHead":"3e10ecfc17e2755781918b17bddde0db9cc0a610","_id":"@clinic/clinic-common@7.1.0","_nodeVersion":"18.7.0","_npmVersion":"8.15.0","dist":{"integrity":"sha512-+e/g1foFFtBqHKc0A9mZkFgH+DiijCT3ZojALGLOgdkzBY3Pun+Oj/FET5xvQWDtJ4RiXWAq4J+odza0NK0aWQ==","shasum":"9393a8b056c1f91ea23c50842c0a62b6f56785bd","tarball":"https://registry.npmjs.org/@clinic/clinic-common/-/clinic-common-7.1.0.tgz","fileCount":320,"unpackedSize":505336,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIHhQxXvaIoluPwT9vH1cki4mt3miO7w9G1DwdlP/QR+UAiEAutgDnNxIhh6z1TGOH33mvHppY2XDJqoBSH/7jvod5n0="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJjBRFCACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmoleBAApRPnTiVjkK1fBu5W4w/NG+n58pvIU5j0ZM1N2qZTa86rVR5B\r\nI+vt+tEaQycemxNDB8/z+7NepnArEFHVMoN4+LoKz/bXWej5BoSlYKsKqEDB\r\nnjjwCVHqRVd6OSRO0b1TvU3BVlxeVGZgCSYk976TXM6260p7OZtHx8Blbqnb\r\nT7o1JuFp3JIGOX1QgZgEYh5FExwssyKOBlfrlliJt+AmQrdQDl3l1fy+lZ2A\r\nK0zCObNQzuiW3ZFulFn7CSX0dg/43qJNOnW7CvTzi6nLpHX3Bt9mzg29YTfq\r\nwomOhwwWVfwwwK76oT4yggSeXvuOkg0xxpCvLlQl+wJq/7ikxVUxYnZVZxwm\r\n52A4X+RSeJrb556rqQZetM8X8TRH/6o1eeWrPFWsRpTK/LTIgs1Ke3MsK8Gg\r\nycnRRpNdmTVIQFP/jEBu7xlm8xn4QF+eGhvaSV8PHQ5GmFfAmTOmSBWvH7Xk\r\nhLCMW3anYEQ+cUIUofyLpPRPvKYPtIwMostHB0IDegtwuRAH3o6m40OWBysx\r\nrK17RNHPoZvFaUa6B1ehh6xIGrqHuqk4Q7xnhYyMe9jfoWUSnecmH9LaD/L5\r\n0ejzGBdee43uBi8ZJ4oYlOL40Gxb8wdjw3EwLSotyn2cIrw3keZwtyskGfgP\r\n4abWCnrRTXPFbQ/56nSuglizPwbAfHYptdQ=\r\n=dUl5\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"rafaelgss","email":"rafael.nunu@hotmail.com"},"maintainers":[{"name":"jasnell","email":"jasnell@gmail.com"},{"name":"matteo.collina","email":"hello@matteocollina.com"},{"name":"simoneb","email":"simone.busoli@gmail.com"},{"name":"rafaelgss","email":"rafael.nunu@hotmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/clinic-common_7.1.0_1661276482368_0.9644105664545601"},"_hasShrinkwrap":false}},"time":{"created":"2021-11-11T21:13:00.353Z","7.0.0":"2021-11-11T21:13:00.713Z","modified":"2022-08-23T17:41:22.762Z","7.1.0":"2022-08-23T17:41:22.594Z"},"maintainers":[{"name":"jasnell","email":"jasnell@gmail.com"},{"name":"matteo.collina","email":"hello@matteocollina.com"},{"name":"simoneb","email":"simone.busoli@gmail.com"},{"name":"rafaelgss","email":"rafael.nunu@hotmail.com"}],"description":"Shared parts between the Clinic.js suite","homepage":"https://github.com/clinicjs/node-clinic-common#readme","repository":{"type":"git","url":"git+https://github.com/clinicjs/node-clinic-common.git"},"author":{"name":"Ruben Bridgewater","email":"ruben@bridgewater.de"},"bugs":{"url":"https://github.com/clinicjs/node-clinic-common/issues"},"license":"MIT","readme":"# Clinic.js Common\n\nCommon functionality shared throughout Clinic.js.\n\n<details>\n  <summary>Table of contents</summary>\n\n<!-- MarkdownTOC autolink=\"true\" levels=\"1,2,3,4\" -->\n\n- [node-clinic-common](#node-clinic-common)\n  - [Utils](#utils)\n    - [`getLoggingPaths(toolName, toolSpecificFiles=[])`](#getloggingpathstoolname-toolspecificfiles)\n    - [`checkForTranspiledCode(fileName)`](#checkfortranspiledcode-filename)\n  - [Scripts](#scripts)\n    - [`buildJs(opts = {})`](#buildjsopts)\n      - [Usage](#usage)\n    - [`buildCss(opts = {})`](#buildcssopts)\n      - [Usage](#usage)\n  - [Templates](#templates)\n    - [`mainTemplate(opts = {})`](#maintemplateopts)\n      - [Usage](#usage)\n  - [Styles](#styles)\n    - [Usage](#usage)\n    - [Standards](#standards)\n      - [Breakdown](#breakdown)\n  - [Icons](#icons)\n  - [Images](#images)\n  - [Components](#components)\n    - [button](#button)\n    - [link](#link)\n    - [dropdown](#dropdown)\n    - [checkbox](#checkbox)\n    - [contexOverlay](#contexoverlay)\n    - [Walkthrough](#walkthrough)\n    - [walkthroughButton](#walkthroughbutton)\n    - [helpers](#helpers)\n  - [Spinner](#spinner)\n  - [License](#license)\n\n<!-- /MarkdownTOC -->\n\n</details>\n\n## Utils\n\n### `getLoggingPaths(toolName, toolSpecificFiles=[])`\n\nCreate a function that builds paths for tool log information. The returned function returns an object mapping virtual path names to actual path names, such as:\n\n```js\n{\n  '/systeminfo': '{pid}.clinic-{toolName}/{pid}.clinic-{toolName}-systeminfo'\n}\n```\n\nArguments:\n  - `toolName` - name of the Clinic.js tool.\n  - `toolSpecificFiles` - array of file names to generate, on top of the defaults (`/`, `/systeminfo`).\n    If `toolName` is 'doctor', this defaults to `['/traceevent', '/processstat']`.\n    If `toolName` is 'bubbleprof', this defaults to `['/traceevent', '/stacktrace']`.\n\n### `checkForTranspiledCode(fileName)`\n\nA function that will check file contents for transpiled code. Check also includes a search for a source map comment.\n\nArguments:\n  - `fileName` - Path to the file being passed in.\n\n***\n\n## Scripts\n\n### `buildJs(opts = {})`\nReturns a Browserify bundle (Readable Stream)\n\n#### Usage\n```js\nconst buildJs = require('@clinic/clinic-common/scripts/build-js')\n\nconst scriptFile = buildJs({\n  basedir: __dirname, (String)\n  debug: this.debug, (Boolean)\n  fakeDataPath, (String)\n  scriptPath, (String)\n  beforeBundle: b => b.doSomethingWithBundle() (Function)\n})\n```\n\nðŸ’¡ The `debug` option will ensure the bundle contains a sourcemap\n\nðŸ’¡ If `fakeDataPath` is not provided, make sure to provide a separate `dataFile` to the [main template](#templates).\n\n### `buildCss(opts = {})`\nReturns a PostCSS bundle (Promise)\n\n#### Usage\n```js\nconst buildCss = require('@clinic/clinic-common/scripts/build-css')\n\nconst styleFile = buildCss({\n  stylePath, (String)\n  debug: this.debug (Boolean)\n})\n```\n\nðŸ’¡ The `debug` option will ensure the bundle contains a sourcemap\n\n***\n\n## Templates\nTemplates use [`stream-template`](https://github.com/almost/stream-template) to interpolate streams, promises and strings into a common template without the need to buffer them first.\n\n### `mainTemplate(opts = {})`\nReturns a streamTemplate (Readable Stream)\n\nUse this template for building tool output with a common chrome including a header and a popout tray.\n\nThis will need to be used in conjunction with the common UI [styles](#styles) and the tray [behaviours](#behaviours).\n\n#### Usage\n```js\nconst mainTemplate = require('@clinic/clinic-common/templates/main')\n\nconst outputFile = mainTemplate({\n  htmlClass: '', (String)\n  favicon: 'URI', (String)\n  title: 'Title', (String)\n  styles: styleFile, (Readable Stream)\n  data: dataFile, (Readable Stream)\n  script: scriptFile, (Promise)\n  headerLogoUrl: 'https://github.com/somewhere', (String)\n  headerLogoTitle: 'Logo title', (String)\n  headerLogo: logoFile, (String)\n  headerText: 'Text', (String)\n  toolVersion: '1.2.3', (String)\n  uploadId: 'ID', (String)\n  head: 'extra <head> content', (String)\n  body: 'extra <body> contents' (String)\n})\n```\n\nðŸ’¡ `opts.data` can be provided to place the JSON output of the analysis into its own script tag. When not provided, analysis data should be bundled in the `scriptFile` by the user.\n\n***\n\n## Styles\nImportable CSS to include when using the `mainTemplate` to be used in conjunction with the `buildCss` script to ensure it is bundled with tool-specific styling. This adds some global styles for the header and tray.  The CSS is written using BEM to avoid specificity and has the following overrideable CSS variables:\n\n```css\nhtml {\n  --nc-colour-text: white;\n  --nc-colour-code: #E9F100;\n  --nc-colour-notification-dot: #2165E5;\n  --nc-colour-tray-backdrop: rgba(0, 0, 0, 0.6);\n  --nc-colour-tray: #292d39;\n  --nc-colour-header-background: #292d39;\n}\n```\n\n### Usage\n```css\n@import '@clinic/clinic-common/styles/styles.css';\n\n.your {\n  tool: styles;\n}\n```\n\n### Standards\nCSS should be written using classes using [BEM](https://csswizardry.com/2013/01/mindbemding-getting-your-head-round-bem-syntax/) as a naming convention for better encapsulation and lower specificity.\n\nInside this repo, all classes are vendor-prfixed with `.nc-` to avoid class name collision with third party or tool specific styles. For tool-based styling, all styles should follow the same conventions with prefixes for the tools as follows:\n\n```\n.ncd- Clinic.js Doctor\n.ncb- Clinic.js Bubbleprof\n.ncf- Clinic.js Flame\n```\n\n#### Breakdown\n```css\n/* Block: Tray component  */\n.nc-tray { ...\n\n/* Element: Tray inner component */\n.nc-tray__inner { ...\n```\n\n***\n\n## Icons\nReturns a dictionary object whose keys are the icon names and the values are the svg files content.\nUseful to inline svg files.\n\n[Find here the icons list](../master/icons/readme.md)\n\n**Use examples:**\n```js\nconst icons = require('@clinic/clinic-common/icons')\n\nconsole.log(icons.activity)\n\noutput:\n`<svg class=\"icon-img activity-svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.7069 3.00248C11.1545 3.03412 11.5262 3.36 11.6161 3.79959L14.2191 16.5255L15.7076 12.796C15.8593 12.4159 16.2272 12.1667 16.6364 12.1667H21C21.5523 12.1667 22 12.6144 22 13.1667C22 13.7189 21.5523 14.1667 21 14.1667H17.314L14.8379 20.3707C14.6741 20.7811 14.2603 21.0353 13.8202 20.996C13.3801 20.9568 13.0179 20.6333 12.9294 20.2004L10.3742 7.70839L8.30541 13.5029C8.1633 13.9009 7.78629 14.1667 7.36364 14.1667H3C2.44772 14.1667 2 13.7189 2 13.1667C2 12.6144 2.44772 12.1667 3 12.1667H6.65884L9.69459 3.66375C9.84545 3.24118 10.2593 2.97084 10.7069 3.00248Z\" fill=\"#7A7F8F\"></path>\n</svg>`\n```\n\n\nAlternatively you can import the needed icons individually:\n```js\nconst cog = require('@clinic/clinic-common/icons/cog')\n...\n`<span class=\"my_icon_wrapper\">${cog}</span>`\n```\n\n\nBasic style can be imported into the page by adding the following line to your main css file (if you use [postcss-import](https://github.com/postcss/postcss-import)):\n```css\n@import \"@clinic/clinic-common/icons/style.css\";\n```\n\nThat will add the following rules:\n```css\n  /* SVG icons */\n  svg.icon-img {\n    /* Default to same size as adjacent text */\n    width: 1em;\n    height: 1em;\n    display: block;\n  }\n```\n\n**Using the icons as BG images**\nIt is possible to use an icon as a background image too.\nIn your `style.css` import the icons you need, i.e.:\n```css\n@import \"@clinic/clinic-common/icons/cog.css\";\n```\n\nThis will generate the following **css variable** :\n```css\nhtml {\n    --cog-icon: url(data:image/svg+xml;utf8,<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" filâ€¦2 19.0006 14.7857 18.9737 14.8485L18.0545 14.4545Z\" fill=\"#7A7F8F\"></svg>);\n}\n```\nNow you can use it like this:\n```css\n.settings-button{\n  background-image: var(--cog-icon);\n  width: 24px;\n  height: 24px;\n...\n}\n```\n\n***\n\n## Images\nIt is possible to embed Base64-Encoded images.\n\n`scripts/build-images.js` exposes two methods:\n\n```js\n  path(sourceDir, exportDir)\n  // and\n  file(filePath, exportDir)\n```\nThe supported file extensions are:\n`png` `jpeg` `jpg` and `gif`\n\nUse example:\n```js\n  // in your npm script\n  const buildImg = require('@clinic/clinic-common/scripts/build-images')\n  buildImg.file('my/amazing/image.jpg', 'visualizer/assets/images')\n\n  // in your .js file you first import the image\n  const myImage = require('visualizer/assets/images/image.js')\n\n  // and then you use it\n  `<img src=${myImage} ... />\n```\n\n***\n\n## Components\nA set of base components and helpers. All the components styles are `@imported` in `style.css` and can be imported as follows:\n```css\n@import \"@clinic/clinic-common/base/style.css\";\n```\n\nEach component can be imported singularly:\n```js\nconst button = require('@clinic/clinic-common/base/button.js')\n```\n\nor you can import multiple components at once:\n\n```js\nconst { button, checkbox, contextOverlay } = require('@clinic/clinic-common/base')\n```\n\nEach component is a function that returns an HTML element\n\n### button\n```js\n  // button({label, classNames = [], leftIcon = '', rightIcon = '', disabled = false, onClick, title})\n  myForm.appendChild(button({\n    label: 'Submit',\n    title: 'Click me!',\n    classNames: ['submitBtn', 'primaryButton'],\n    leftIcon: submitIcon,\n    onClick: () => validateAndSubmit()\n  }))\n```\n\nstyle can be customised by defining these CSS vars in your CSS\n```css\n  --nc-button-bgColor\n  --nc-button-color\n  --nc-button-fontSize\n  --nc-button-bgHover\n  --nc-button-hoverOutline\n```\n\n### link\n```js\n  // link({ label, classNames = [], leftIcon = '', rightIcon = '', href, title = '', target = '' })\n  div.appendChild(link({\n    label: 'Documentation',\n    title: 'Click me!',\n    href: '/docs',\n    classNames: ['openDocs'],\n    rightIcon: externalLink\n  }))\n```\n\nstyle can be customised by defining these CSS vars in your CSS\n```css\n  --nc-link-bgColor\n  --nc-link-color\n  --nc-link-fontSize\n  --nc-link-bgHover\n  --nc-link-hoverOutline\n```\n\n### dropdown\n```js\n// dropdown({ label, classNames = [], disabled = false, expandAbove = false, content })\n  div.appendChild(dropdown({\n    classNames: ['key-v8'],\n    label: checkbox({\n      leftLabel: 'V8',\n      onChange: e => {\n        this.setCodeAreaVisibility('all-v8', e.target.checked)\n      }\n    }),\n    content: `<span>This is some content. ${greetings}</span>`,\n    expandAbove: true\n  }))\n```\n\nstyle can be customised by defining these CSS vars in your CSS\n```css\n  --nc-checkbox-bgColor\n  --nc-checkbox-hoverColor\n  --nc-checkbox-hoverOutline\n  --nc-checkbox-borderColor\n  --nc-checkbox-checkedIconColor\n  --nc-checkbox-indeterminateIconColor\n```\n\n### checkbox\n```js\n  // checkbox({ leftLabel, rightLabel, classNames = [], checked = false, disabled = false, indeterminate = false, onChange })\n  checkbox({\n    classNames: ['key-core'],\n    leftLabel: `<span class='after-bp-1'>Node JS</span>\n      <span class='before-bp-1'>Node</span>`,\n    onChange: e => this.setCodeAreaVisibility('core', e.target.checked)\n  })\n```\n\nstyle can be customised by defining these CSS vars in your CSS\n```css\n  --nc-dropdown-borderColor\n  --nc-dropdown-color\n  --nc-dropdown-bgColor\n  --nc-dropdown-contentBg\n  --nc-dropdown-contentBorderColor\n```\n\n### contexOverlay\nDisplays an overlay containig the given `msg` right next to the targetElement or the targetRect\n\nIf **targetElement** and **targetRect** are `null||undefined` then the overlay content will be centerd on the page.\n```js\n  // const options = {\n  //   msg,\n  //   targetElement,\n  //   targetRect,\n  //   outerRect,\n  //   offset,\n  //   pointerCoords,\n  //   verticalAlign = 'bottom'\n  // }\n\n    overlay.show({\n      msg: this.wrapper,\n      classNames: ['wt-container'],\n      offset: { y: 10, height: 20 },\n      targetElement: document.querySelector('.my-cool-element'),\n      showArrow: true\n    })\n```\n\n### Walkthrough\nA class to display step-by-step guide to the UI features.\n\n```js\nconst wt = new Walkthrough({ steps = [], showBackdrop = false, showControls = true, onProgress })\n```\n`WT` exposes the following methods:\n```js\n  `start`\n  `next`\n  `end`\n  `skipTo`\n```\n```steps``` is an array of objects, each step has the following properties:\n- `attachTo`: a css selector to identify the element described\n- `msg`: an HTMLElement or string template of the message to be displayed\n\n\n```onProgress(index)``` gets triggered whenever the Walkthrough component state changes.\n```js\n// steps definition example\nconst steps = [\n  {\n    attachTo: '#selection-controls',\n    msg: `\n    <div>\n      <div class=\"step-1\">\n        ${flame}\n        Hello, and welcome to Flame!\n      </div>\n    </div>\n    `\n  },\n  {\n    attachTo: '.frame-dropdown',\n    msg: `\n    <div>\n      <p>Do you like Flame?</p>\n      <img style=\"width:400px; height: 225px; display:block;\" src=\"https://images.pexels.com/photos/750225/pexels-photo-750225.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500\" />\n      ${docs}\n    </div>`\n  }\n]\n```\n\n### walkthroughButton\nThe standardised button to tools which activates the Walkthroughs\n```js\n  // walkthroughButton(steps, onProgress, [label])\n  const hdtw = walkthroughButton(wtSteps, index => {\n    this.pushHistory()\n  })\n\n  // hdtw.WtPlayer -> the embeded walkthrough player\n  // hdtw.button -> the button instance to append to the DOM\n\n  // label defaults to 'How does this work'\n\n```\n\n\n### helpers\nA set of useful functions. Currently contains:\n- ```toHtml(data)``` Data can be a string, a function or an HTMLElement. The output is an HTMLElement\n```js\n  const myHtml = helpers.toHtml(`<span>${greetings}</span>`)\n  // or\n  const myHtml = helpers.toHtml(getGreetings)\n\n```\n\n## Spinner\nTo add the `loading spinner` to your app please import `@clinic/clinic-common/spinner` in your `main.js` and the style.css file to your `style.css`\n\nExample:\nin main.js\n```js\nrequire('@clinic/clinic-common/spinner')\n```\n\nin style.css\n```css\n@import \"@clinic/clinic-common/spinner/style.css\";\n```\n\nThis will display the loading spinner while the page gets loaded.\nIf you need to show the spinner later on, maybe while the app is busy doing some calculation, you can programmatically switch the spinner on and off as shown in the following example:\n\n```js\nconst spinner = require('@clinic/clinic-common/spinner')\n\n...\nconst redrawSpinner = spinner.attachTo(document.querySelector('#myHtmlContainerNode'))\nredrawSpinner.show('Melting the North pole down...')\n\n// when finished\nredrawSpinner.hide()\n\n```\n\nThe spinner rotating border is white by default, you can customise it by setting the css var `--spinner-border-color` in your css:\n```css\nhtml {\n/* this will set the colour for the page-loading spinner*/\n  --spinner-border-color: --my-fancy-primary-color;\n}\n\n#myHtmlContainerNode {\n  /* this will set the colour for the in-page spinner*/\n  /* this is optional and inherits from `html` if not defined*/\n  --spinner-border-color: --my-fancy-secondary-color;\n}\n```\n\nAttaching the spinner to an element creates a new instance of `spinner` that can be used later on the switch the spinner on/off. When the spinner is displayed, the element to which the spinner is attached gets blurred and overlaid by a dark box.\n\n![ezgif com-video-to-gif](https://user-images.githubusercontent.com/1298616/49368446-ffdb1f80-f6ee-11e8-9c08-b134bcdcc2e6.gif)\n\n\n## License\n\n[MIT](LICENSE)\n","readmeFilename":"README.md"}